<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://formden.com/static/cdn/font-awesome/4.4.0/css/font-awesome.min.css" />
	<title>Administración de Empleados</title>
<script type="text/javascript">
 	function mueveReloj(){ 
   	 
   	hoy = new Date()
   	dd = hoy.getDate()
	mm = hoy.getMonth()+1 //hoy es 0!
    yyyy = hoy.getFullYear()
    
    if(dd<10) {
    dd='0'+dd
	} 

	if(mm<10) {
    mm='0'+mm
	} 

   hoy = yyyy+'-'+mm+'-'+dd;
   	document.form_reloj.fechaIngreso.value = hoy
   	
} 
</script>
<style>
.inpurError
	{
		background: #FF0000;
	}
</style>
<script type="text/javascript" src="js/angular.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/angular-sanitize/1.5.8/angular-sanitize.js"></script>
<script type="text/javascript" src="js/registraEmpleado.js"></script>

</head>
<body onload="mueveReloj()" ng-app="tatei" ng-controller="registraEmpleado">
	<div class="container">
	<h2>Administración de Empleados</h2>
		<div class="panel panel-default">
		<div class="panel-body">
			<form name="form_reloj">
			     <div class="row">
			       <div class="col-sm-4">
                        <div class="form-group form-group-sm">
                            <label for="numeroEmpleado" class="control-label">Numero de Empleado</label>
                            <input type="text" name="numeroEmpleado" id="noEmpleado"  class="form-control" data-ng-bind-html="data" data-form="nEmpleado"/>
                            <div class="amt_err"></div>
                        </div>
                    </div>
			     </div>
			     
	
			     <div class="row">
			     <div class="col-sm-4">
                        <div class="form-group form-group-sm">
                            <label for="numeroEmpleado" class="control-label">Nombre(S)</label>
                            <input type="text" name="nombre" id="nombre" class="form-control" data-ng-bind-html="dataNombre" data-form="nombreE">
                            <div class="amt_error"></div>
                        </div>
                    </div>
			     <div class="col-sm-4">
                        <div class="form-group form-group-sm">
                            <label for="apellidoPaterno" class="control-label">Apellido Paterno</label>
                            <input type="text" name="apellidoPat" id="apellidoPaterno" required class="form-control" data-form="apellidoP"/>
                            <div class="amt_errorApellidoP"></div>
                        </div>
                    </div>
                    
                    <div class="col-sm-4">
                        <div class="form-group form-group-sm">
                            <label for="apellidoMaterno" class="control-label">Apellido Materno</label>
                            <input type="text" name="apellidoMat" id="apellidoMaterno" required class="form-control" data-form="apellidoM"/>
                            <div class="amt_errorApellidoM"></div>
                        </div>
                    </div>
			     </div>
			     
			      <div class="row">
			     <div class="col-sm-4">
                        <div class="form-group form-group-sm">
                            <label for="puesto" class="control-label">Puesto</label>
                            <select class="form-control" required id="codigoPuesto" ng-model="empleado.puesto" ng-options="catalogo.codigo as catalogo.descripcion for catalogo in resultado" ng-change="getOptions2(empleado.puesto)"> </select>
                        </div>
                    </div>
                    
                    <div class="col-sm-4">
                        <div class="form-group form-group-sm">
                            <label for="fechaNaciomiento" class="control-label">Fecha de Nacimiento</label>
                            <div class="input-group">
                  			<div class="input-group-addon"><i class="fa fa-calendar"></i></div>
                  			<input class="form-control" type="date" name="fechaNac" id="fechaNacimiento"/>
               				 </div>
                        </div>
                    </div>
                    
                    <div class="col-sm-4">
                        <div class="form-group form-group-sm">
                            <label for="fechaIngreso" class="control-label">Fecha de Ingreso</label>
                            <div class="input-group">
                  			<div class="input-group-addon"><i class="fa fa-calendar"></i></div>
                  			<input type="date" name="fechaIngreso" id="fechaIngreso" requiered  class="form-control">
               				 </div>
                        </div>
                    </div>
			     </div>
			     
			     <div class="row">
			     <div class="col-sm-6">
                        <div class="form-group form-group-sm">
                            <label for="nss" class="control-label">NSS</label>
                            <input type="number" name="nss" id="nss" requiered class="form-control" data-form="nss">
                            <div class="amt_errorNSS"></div>
                        </div>
                    </div>
                    
                    <div class="col-sm-6">
                        <div class="form-group form-group-sm">
                            <label for="noCreinfonavit" class="control-label">Credito Infonavit</label>
                            <input type="number" name="creditoInfonavit" id="noCreditoInfonavit" requiered class="form-control" data-form="infonavit">
                            <div class="amt_errorInfonavit"></div>
                        </div>
                    </div>
			     </div>
			     
			     <div class="row">
			     <div class="col-sm-6">
                        <div class="form-group form-group-sm">
                            <label for="rfc" class="control-label">RFC</label>
                            <input type="text" name="rfc" id="rfc" requiered class="form-control" data-form="rfc">
                            <div class="amt_errorRFC"></div>
                        </div>
                    </div>
                    
                    <div class="col-sm-6">
                        <div class="form-group form-group-sm">
                            <label for="estatus" class="control-label">Estatus</label>
                           <select name="Estatus" id="estatus" requiered class="form-control">
								<option value="">--Seleccione el estatus--</option>
								<option value="A">ACTIVO</option>
								<option value="I">INACTIVO</option>
							</select>
                        </div>
                    </div>
			     </div>
			     
			     <div class="row">
			      <div class="col-sm-6">
                        <div class="form-group form-group-sm">
                            <label for="sueldo" class="control-label">Sueldo</label>
                            <input type="number" name="sueldo" placeholder="$" id="sueldo" requiered class="form-control" data-form="sueldo">
                            <div class="amt_errorSueldo"></div>
                        </div>
                    </div>
                    
                    <div class="col-sm-6">
                        <div class="form-group form-group-sm">
                            <label for="frecuencia" class="control-label">Frecuencia :</label>
                           <input type="radio" name="pago" id="frecuenciaPago" value="M">Mes &nbsp <input type="radio" id="frecuenciaPago" name="pago" value="Q">Quincena &nbsp <input type="radio" id="frecuenciaPago" name="pago" value="S">Semanal
                        </div>
                    </div>
			     </div>
			     
			     <div class="row">
			     <div class="col-sm-4">
                        <div class="form-group form-group-sm">
                            <label for="telefono" class="control-label">Telefono</label>
                            <input type="tel" name="telefono" id="telefono" requiered class="form-control" data-form="tel"/>
                            <div class="amt_errorTel"></div>
                        </div>
                    </div>
                    
                    <div class="col-sm-4">
                        <div class="form-group form-group-sm">
                            <label for="talla" class="control-label">Talla</label>
                           <select  class="form-control" id="codigoTalla" ng-model="empleado.codigoTalla" ng-options="catalogo.codigo as catalogo.descripcion for catalogo in resultadoRopa" ng-change="getOptions2(empleado.codigoTalla)">
							</select>
                        </div>
                    </div>
                    
                    <div class="col-sm-4">
                        <div class="form-group form-group-sm">
                            <label for="sexo" class="control-label">Sexo</label>
                           <select id="sexo" requiered class="form-control">
								<option value="">-----Selecione sexo-----</option>
								<option value="M">HOMBRE</option>
								<option value="F">MUJER</option>
						</select>
                        </div>
                    </div>
			     </div>
			     
			     <div class="row">
			     <div class="col-sm-4">
                        <div class="form-group form-group-sm">
                            <label for="cuadrilla" class="control-label">Cuadrilla</label>
                           <select class="form-control" id="idCuadrilla" ng-model="empleado.idCuadrilla" ng-options="cuadrilla.idCuadrilla as cuadrilla.nombreCuadrilla for cuadrilla in resultadoCuadrilla" ng-change="getOptions2(empleado.idCuadrilla)" >
						  </select>
                        </div>
                    </div>
                    
                    <div class="col-sm-4">
                        <div class="form-group form-group-sm">
                            <label for="vialidad" class="control-label">Vialidad</label>
                            <select  class="form-control" id="codigoVialidad" ng-model="empleado.codigoVialidad" ng-options="catalogo.codigo as catalogo.descripcion for catalogo in resultadoVialidad" ng-change="getOptions2(empleado.codigoVialidad)"></select>
                        </div>
                    </div>
                    
                    <div class="col-sm-4">
                        <div class="form-group form-group-sm">
                            <label for="area" class="control-label">Area</label>
                            <select class="form-control" id="codigoArea" ng-model="empleado.codigoArea" ng-options="catalogo.codigo as catalogo.descripcion for catalogo in resultadoArea" ng-change="getOptions2(empleado.codigoArea)"></select>
                        </div>
                    </div>
			     </div>
			     
			     <div class="row">
			     <div class="col-sm-6">
                        <div class="form-group form-group-sm">
                            <label for="alta" class="control-label">Notificar Alta IMSS</label>
                            <input type="checkbox" class="form-control" checked  disabled >
                        </div>
                    </div>
			     </div>
			     <div class="row">
			     <div class="col-sm-12">
                        <div class="form-group form-group-sm">
                            <label for="comentarios" class="control-label">Comentarios</label>
                           <textarea rows="5" cols="120" id="observaciones" class="form-comtrol"></textarea>
                        </div>
                    </div>
			     </div>
			     <p class="control-label">Documentacion</p>
			     <div class="row" ng-repeat="documentos  in resultadoDocumentos">
			      <div class="col-sm-6">
                        <div class="form-group form-group-sm">
                            <label for="documento" class="control-label">{{documentos.descripcion}}</label>
                        </div>
                    </div>
                    
                    <div class="col-sm-6">
                        <div class="form-group form-group-sm">
                           	<input type="hidden" id="estatusDocumento" value="A">
							<input type="radio" id="documento"  name={{documentos.codigo}} value={{documentos.codigo}} data-form="document">SI 
							<input type="radio"  name={{documentos.codigo}} value="NO" data-form="document">NO
							<input type="radio" name={{documentos.codigo}} value="N/A" data-form="document">N/A 
                        </div>
                    </div>
			     </div>
			     
			     <div class="row">
			    		 <div class="col-sm-12">
                			<div class="table-responsive">
                			<table class="table table-bordered">
								<div class="wraper" ng-show='resultadoDatos.length' >
								<tr class="success">
								<td>Numero</td>
								<td>Puesto</td>
								<td>Nombre</td>
								<td>Fecha Ingreso</td>
								<td>Estatus</td>
								<td>Operaciones</td>
								</tr>
							<tr ng-repeat="general in resultadoDatos">
							<td><input type="hidden" value={{general.idEmpleado}} id="idEmpleado">{{general.noEmpleado}}</td>
							<td>{{general.codigoPuesto}}</td>
							<td>{{general.nombre}} {{general.apellidoPat}} {{general.apellidoMat}}</td>
							<td>{{general.fechaIngreso}}</td>
							<td>{{general.estatus}}</td>
							
							<td><button class="btn btn-info" data-ng-click="editarDatos()" id="editar" style="display:block;">Editar</button>
							<button class="btn btn-info" data-ng-click="actualizarDato(empleado)" id="guardarDato" style="display:none;">Actualizar Empleado</button>&nbsp<button class="btn btn-info" data-ng-click="bajaEmpleado()">BajaEmpleado</button>&nbsp<button class="btn btn-info" data-ng-click="permisoEmpleado()">Permiso Autorizacion</button></td>
							<input type="hidden" id="noEmpleadoData" value={{general.noEmpleado}}>
							<input type="hidden" id="nombreData" value={{general.nombre}}>
							<input type="hidden" id="apellidoPatData" value={{general.apellidoPat}}>
							<input type="hidden" id="apellidoMatData" value={{general.apellidoMat}}>
							<input type="hidden" id="fechaNacimientoData" value={{general.fechaNacimiento}}>
							<input type="hidden" id="nssData" value={{general.nss}}>
							<input type="hidden" id="rfcData" value={{general.rfc}}>
							<input type="hidden" id="telefonoData" value={{general.telefono}}>
							<input type="hidden" id="creditoInfoData" value={{general.noCreditoInfonavit}}>
							<input type="hidden" id="sueldoData" value={{general.sueldo}}>
							</tr>
							</div>
							</table>
                			</div>
               			 </div>
			     </div>
			     <input type="reset" value="Borrar información" class="btn btn-info" >
				 <input type="submit" name="guardar" value="Registrar" data-ng-click="registrar(empleado)" class="btn btn-info">
				 <input type="button" value="Consultar" data-ng-click="consultar(empleado)" class="btn btn-info">
			</form>
		</div>
		</div>
	</div>




		
		
		<script type="text/javascript" src="js/jquery-3.1.1.min.js"></script>
    	<script src="js/bootstrap.min.js"></script>
    	<script>
	$('input[data-form=nEmpleado]').keyup(function() {


		var data = $(this).val();
		var regx = /^[A-Z0-9]+$/;

		if ( data === '' || data.match(regx) ){
			$('.amt_err').fadeOut('slow');
		}
		else {
			$('.amt_err')
				.text('No se permite letras minusculas o caracteres invalidos.')
				.css({'color':'#fff', 'background':'#990000', 'padding':'3px'})
				.fadeIn('fast');
		}
		
    });
</script>

<script>
$('input[data-form=nombreE]').keyup(function() {


		var data = $(this).val();
		var regx = /^[A-Za-z]+$/;

		if ( data === '' || data.match(regx) ){
			$('.amt_error').fadeOut('slow');
		}
		else {
			$('.amt_error')
				.text('no se permiten numeros')
				.css({'color':'#fff', 'background':'#990000', 'padding':'3px'})
				.fadeIn('fast');
		}
		
    });
</script>

<script>
$('input[data-form=apellidoP]').keyup(function() {


		var data = $(this).val();
		var regx = /^[A-Za-z]+$/;

		if ( data === '' || data.match(regx) ){
			$('.amt_errorApellidoP').fadeOut('slow');
		}
		else {
			$('.amt_errorApellidoP')
				.text('no se permiten numeros')
				.css({'color':'#fff', 'background':'#990000', 'padding':'3px'})
				.fadeIn('fast');
		}
		
    });
</script>
<script>
$('input[data-form=apellidoM]').keyup(function() {


		var data = $(this).val();
		var regx = /^[A-Za-z]+$/;

		if ( data === '' || data.match(regx) ){
			$('.amt_errorApellidoM').fadeOut('slow');
		}
		else {
			$('.amt_errorApellidoM')
				.text('no se permiten numeros')
				.css({'color':'#fff', 'background':'#990000', 'padding':'3px'})
				.fadeIn('fast');
		}
		
    });
</script>

<script>
$('input[data-form=nss]').keyup(function() {


		var data = $(this).val();
		var regx = /^[0-9]+$/;

		if ( data === '' || data.match(regx) ){
			$('.amt_errorNSS').fadeOut('slow');
		}
		else {
			$('.amt_errorNSS')
				.text('No se permite letras.')
				.css({'color':'#fff', 'background':'#990000', 'padding':'3px'})
				.fadeIn('fast');
		}
		
    });
</script>

<script>
$('input[data-form=infonavit]').keyup(function() {


		var data = $(this).val();
		var regx = /^[0-9]+$/;

		if ( data === '' || data.match(regx) ){
			$('.amt_errorInfonavit').fadeOut('slow');
		}
		else {
			$('.amt_errorInfonavit')
				.text('No se permite letras.')
				.css({'color':'#fff', 'background':'#990000', 'padding':'3px'})
				.fadeIn('fast');
		}
		
    });
</script>
<script>
$('input[data-form=rfc]').keyup(function() {


		var data = $(this).val();
		var regx = /^[A-Z0-9]+$/;

		if ( data === '' || data.match(regx) ){
			$('.amt_errorRFC').fadeOut('slow');
		}
		else {
			$('.amt_errorRFC')
				.text('No se permite letras minusculas o caracteres invalidos.')
				.css({'color':'#fff', 'background':'#990000', 'padding':'3px'})
				.fadeIn('fast');
		}
		
    });
</script>
<script>
$('input[data-form=sueldo]').keyup(function() {


		var data = $(this).val();
		var regx = /^[0-9]+$/;

		if ( data === '' || data.match(regx) ){
			$('.amt_errorSueldo').fadeOut('slow');
		}
		else {
			$('.amt_errorSueldo')
				.text('No se permite letras.')
				.css({'color':'#fff', 'background':'#990000', 'padding':'3px'})
				.fadeIn('fast');
		}
		
    });
</script>
<script>
$('input[data-form=tel]').keyup(function() {


		var data = $(this).val();
		var regx = /^[0-9]+$/;

		if ( data === '' || data.match(regx) ){
			$('.amt_errorTel').fadeOut('slow');
		}
		else {
			$('.amt_errorTel')
				.text('No se permite letras.')
				.css({'color':'#fff', 'background':'#990000', 'padding':'3px'})
				.fadeIn('fast');
		}
		
    });
</script>
    	<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.4.1/js/bootstrap-datepicker.min.js"></script>
    	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.4.1/css/bootstrap-datepicker3.css"/>
</body>

</html>