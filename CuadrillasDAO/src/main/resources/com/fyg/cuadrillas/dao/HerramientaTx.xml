<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper
	namespace="com.fyg.cuadrillas.dao.HerramientaTx">

<!--- ALTA EN LA TABLA HERRAMIENTA-->
<insert id="registraHerramientas" parameterType="herramienta">
INSERT INTO herramienta (
	   id_herramienta,nombre,descripcion,fecha_ingresa,codigo_tipo_combustible,codigo_tipo_articulo,codigo_estado,
	   mantenimiento,usuario_alta,fecha_alta,estatus)
VALUES(#{idHerramienta},#{nombre},#{descripcion},now(),#{codigoTipoCombustible},#{codigoTipoArticulo},
#{codigoEstado},#{mantenimiento},#{usuarioAlta},now(),'A')
</insert>

<!--- BAJA EN LA TABLA TIPO CATALOGO-->
<update id="inactivaHerramientas" parameterType="herramienta">
UPDATE herramienta SET
estatus = 'I',
usuario_ult_mod = #{usuarioUltMod},
fecha_ult_mod = now()
WHERE nombre = #{nombre}
AND codigo_tipo_combustible = #{codigoTipoCombustible}
AND codigo_tipo_articulo = #{codigoTipoArticulo}
AND codigo_estado = #{codigoEstado}
AND estatus = 'A'

</update>

<update id="actualizarHerramienta" parameterType="herramienta">
UPDATE herramienta
SET
descripcion = upper(#{descripcion}),
fecha_ult_mod = now(),
usuario_ult_mod = #{usuarioUltMod}
WHERE nombre = #{nombre}
AND codigo_tipo_combustible = #{codigoTipoCombustible}
AND codigo_tipo_articulo = #{codigoTipoArticulo}
AND codigo_estado = #{codigoEstado}
AND estatus = 'A'
</update>
</mapper>