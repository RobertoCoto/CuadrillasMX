<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper	namespace="com.fyg.cuadrillas.dao.ContratoTx">

<insert id="altaContrato" parameterType="Contrato">
INSERT INTO contrato(numero_contrato,id_empleado,fecha_registro,id_vialidad,direccion_inicial,latitud_inicial,longitud_inicial,direccion_final,
latitud_final,longitud_final,fecha_alta,usuario_alta,observaciones,url,estatus)
VALUES (#{numeroContrato},#{idEmpleado},now(),#{idVialidad},#{direccionInicial},#{latitudInicial},#{longitudInicial},
#{direccioFinal},#{latitudFinal},#{longitudFinal},
now(),#{usuarioAlta},#{observaciones},#{url},'A')
</insert>

<update id="bajaContrato" parameterType="Contrato">
UPDATE contrato SET
	fecha_baja = now(),
	usuario_baja = #{usuarioBaja},
	fecha_ult_mod = now(),
	usuario_ult_mod = #{usuarioUltMod},
    estatus = 'I'
WHERE numero_contrato = #{numeroContrato} 
AND id_empleado = #{idEmpleado}
AND estatus = 'A'
</update>
</mapper>