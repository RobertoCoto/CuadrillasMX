<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper	namespace="com.fyg.cuadrillas.dao.CuadrillaTx">

<insert id="altaCuadrilla" parameterType="Cuadrilla">
INSERT INTO cuadrillas(nombre_cuadrilla,id_vialidad,residente,numero_personas,calificacion,
direccion_inicial,latitud_inicial,longitud_inicial,direccion_final,latitud_final,
longitud_final,fecha_alta,usuario_alta,estatus)
VALUES(#{nombreCuadrilla},#{idCuadrillas},#{idVialidad},#{residente},#{numeroPersonas},#{calificacion},
#{direccionInicial},#{latitudInicial},#{longitudInicial},#{direccionFinal},#{latitudFinal},#{longitudFinal},now(),#{usuarioAlta},'A')
</insert>

<update id="bajaCuadrilla" parameterType="Cuadrilla">
UPDATE cuadrillas SET
		fecha_baja = now(),
		usuario_baja = #{usuarioBaja},
		fecha_ult_mod = now(),
		usuario_ult_mod #{usuarioUltMod}
		estatus = 'I'
WHERE id_cuadrilla = #{id_cuadrilla}
AND estatus = 'A'
</update>
</mapper>