<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper	namespace="com.fyg.cuadrillas.dao.HerramientaNTx">

<resultMap type="Herramienta" id="herramienta">
<result column="nombre" property="nombre"/>
<result column="descripcion" property="descripcion"/>
<result column="codigo_tipo_combustible" property="codigoTipoCombustible"/>
<result column="codigo_tipo_articulo" property="codigoTipoArticulo"/>
<result column="codigo_estado" property="codigoEstado"/>
<result column="estatus" property="estatus"/>
</resultMap>	
	
<!-- Consulta Herramientas-->
<select id="consultaHerramientas" parameterType="Herramienta" resultMap="herramienta">
SELECT herramienta.nombre AS nombre, herramienta.descripcion herramienta.codigo_tipo_combustible AS codigoTipoCombustible,
herramienta.codigo_tipo_articulo AS codigoTipoArticulo, herramienta.codigo_estado AS codigoEstado
FROM herramienta 
INNER JOIN tipo_catalogo ON herramienta.codigo_tipo_combustible = tipo_catalogo.tipo_catalogo
INNER JOIN tipo_catalogo ON herramienta.codigo_tipo_articulo = tipo_catalogo.tipo_catalogo
INNER JOIN tipo_catalogo ON herramienta.codigo_estado = tipo_catalogo.tipo_catalogo
WHERE tipo_catalogo.orden = #{orden} AND herramienta.estatus = #{estatus}
</select>

<select id="consultaListaHerramientas" parameterType="Herramienta" resultMap="herramienta">
SELECT estatus FROM herramienta WHERE id_herramienta = #{idHerramienta}
</select>

</mapper>