<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper
	namespace="com.fyg.cuadrillas.resources.HerramientaNTx">
	
<!-- Consulta Herramientas-->
<select id="consultaHerramientas" parameterType="herramientaOV" resultMap="herramientaOV">
SELECT herramienta.nombre AS nombre, herramienta.descripcion herramienta.codigo_tipo_combustible AS codigoTipoCombustible,
herramienta.codigo_tipo_articulo AS codigoTipoArticulo, herramienta.codigo_estado AS codigoEstado
FROM herramienta 
INNER JOIN tipo_catalogo ON herramienta.codigo_tipo_combustible = tipo_catalogo.tipo_catalogo
INNER JOIN tipo_catalogo ON herramienta.codigo_tipo_articulo = tipo_catalogo.tipo_catalogo
INNER JOIN tipo_catalogo ON herramienta.codigo_estado = tipo_catalogo.tipo_catalogo
WHERE tipo_catalogo.orden = #{orden} AND herramienta.estatus = #{estatus}
</select>

<resultMap type="herramientaOV" id="herramientasConsulta">
<result column="nombre" property="nombre"/>
<result column="descripcion" property="descripcion"/>
<result column="codigoTipoCombustible" property="codigoTipoCombustible"/>
<result column="codigoTipoArticulo" property="codigoTipoArticulo"/>
<result column="codigoEstado" property="codigoEstado"/>
</resultMap>

<select id="consultaListaHerramientas" parameterType="herramientaOV" resultMap="herramientaOV">
SELECT estatus FROM herramienta WHERE id_herramienta = #{idHerramienta}
</select>

<resultMap type="herramientaOV" id="estatusHerramienta">
<result column="estatus" property="estatus"/>
</resultMap>
</mapper>